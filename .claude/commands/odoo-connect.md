# /odoo-connect

Establish authenticated connection to an Odoo instance

## Level

**Elementary** - Basic operations - getting started

## Prerequisites
- Authenticated OdooClient connection

## Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `url` | string | Yes | Odoo instance URL (e.g., http://localhost:8069) |
| `database` | string | Yes | Odoo database name |
| `username` | string | Yes | Odoo username (login) |
| `password` | string | Yes | Odoo password |

## Usage

### Basic Connection

*✓ This example is tested against a live Odoo instance*

Connect to a local Odoo instance with default credentials

```typescript
import { OdooClient } from '@odoo-toolbox/client';

const client = new OdooClient({
  url: 'http://localhost:8069',
  database: 'odoo',
  username: 'admin',
  password: 'admin',
});

await client.authenticate();
console.log('Connected successfully!');

// Always logout when done
await client.logout();
```

### Connection with Environment Variables

*✓ This example is tested against a live Odoo instance*

Secure connection using environment variables

```typescript
import { OdooClient } from '@odoo-toolbox/client';

const client = new OdooClient({
  url: process.env.ODOO_URL || 'http://localhost:8069',
  database: process.env.ODOO_DB || 'odoo',
  username: process.env.ODOO_USER || 'admin',
  password: process.env.ODOO_PASSWORD || 'admin',
});

await client.authenticate();

// Get session info
const sessionInfo = client.getSessionInfo();
console.log(`Authenticated as user ID: ${sessionInfo?.uid}`);
console.log(`Database: ${sessionInfo?.db}`);

await client.logout();
```

### Connection with Error Handling

*✓ This example is tested against a live Odoo instance*

Robust connection with comprehensive error handling

```typescript
import { OdooClient, OdooAuthError, OdooNetworkError } from '@odoo-toolbox/client';

const client = new OdooClient({
  url: process.env.ODOO_URL || 'http://localhost:8069',
  database: process.env.ODOO_DB || 'odoo',
  username: process.env.ODOO_USER || 'admin',
  password: process.env.ODOO_PASSWORD || 'admin',
});

try {
  await client.authenticate();
  console.log('Connected successfully!');

  // Perform operations here...

} catch (error) {
  if (error instanceof OdooAuthError) {
    console.error('Authentication failed - check username/password');
  } else if (error instanceof OdooNetworkError) {
    console.error('Network error - check URL and connectivity');
  } else {
    console.error('Unexpected error:', error);
  }
  process.exit(1);
} finally {
  await client.logout();
}
```

## Key Concepts

This SKILL helps you connect to an Odoo instance using the @odoo-toolbox/client package.

## What it does

1. Creates an OdooClient instance with your connection configuration
2. Authenticates with Odoo using JSON-RPC protocol
3. Returns session information including user ID and database name

## When to use

- At the start of any Odoo automation script
- When you need to verify Odoo is accessible
- Before performing any CRUD operations

## Connection Configuration

The OdooClient requires these parameters:
- **url**: The Odoo instance URL (e.g., `http://localhost:8069`)
- **database**: The Odoo database name
- **username**: User login (typically email or 'admin')
- **password**: User password

## Credential Configuration

### Option 1: .odoo.env file (Recommended)

Create a `.odoo.env` file in your project root:

```bash
ODOO_URL=http://localhost:8069
ODOO_DB=my_database
ODOO_USER=admin
ODOO_PASSWORD=my_secure_password
```

> **Important**: Add `.odoo.env` to `.gitignore` to avoid committing credentials.

### Option 2: Environment Variables

Set these environment variables:
- `ODOO_URL`: Odoo instance URL
- `ODOO_DB` or `ODOO_DATABASE`: Database name
- `ODOO_USER` or `ODOO_USERNAME`: Username
- `ODOO_PASSWORD`: Password

### Option 3: CLAUDE.md

Document your Odoo connection in your project's CLAUDE.md file so Claude knows how to connect.

## Related SKILLs

- `/odoo-introspect`
- `/odoo-search-fields`
- `/odoo-explore-modules`

## Odoo Source References

- [http.py](https://github.com/odoo/odoo/blob/17.0/odoo/http.py)
- [security.py](https://github.com/odoo/odoo/blob/17.0/odoo/service/security.py)

---

*Generated by @odoo-toolbox/skills*